<div class="container">
  <div class="header">
    <h3>Change Password</h3>
  </div>
  <div class="login-form">
    <form [formGroup]="changePasswordForm" (ngSubmit)="onSubmit()">
      <label>Username</label>
      <mat-form-field>
        <mat-icon matPrefix class="my-icon">perm_identity</mat-icon>
        <mat-label>enter username</mat-label>
        <input matInput type="text" name="username"  formControlName="username" readonly>
      </mat-form-field>

      <label>Password</label>
      <mat-form-field>
        <mat-icon matPrefix class="my-icon">lock</mat-icon>
        <mat-label>Old Password</mat-label>
        <input matInput [type]="hideOldPassword ? 'password' : 'text'" placeholder="Password"
               matInput type="password"
               name="oldPassword"
               formControlName="oldPassword">
        <button mat-icon-button matSuffix (click)="toggleOldPasswordVisibility($event)">
          <mat-icon>{{ hideOldPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <div *ngIf="oldPassword.touched && oldPassword.invalid">
          <div *ngIf="oldPassword.errors?.required "> password is required...</div>
        </div>
      </mat-form-field>

      <mat-form-field>
        <mat-icon matPrefix class="my-icon">lock</mat-icon>
        <mat-label>New Password</mat-label>
        <input matInput type="password"
               name="newPassword"
               formControlName="newPassword">
        <div *ngIf="newPassword.touched && newPassword.invalid">
          <div *ngIf="newPassword.errors?.required "> password is required...</div>
        </div>
      </mat-form-field>

      <mat-form-field>
        <mat-icon matPrefix class="my-icon">lock</mat-icon>
        <mat-label>Confirm Password</mat-label>

        <input [type]="hideNewPassword ? 'password' : 'text'" placeholder="Password"
               matInput type="password"
               name="confirmPassword"
               formControlName="confirmPassword">
        <button mat-icon-button matSuffix (click)="toggleNewPasswordVisibility($event)">
          <mat-icon>{{ hideNewPassword ? 'visibility_off' : 'visibility' }}</mat-icon>
        </button>
        <div *ngIf="confirmPassword.touched && confirmPassword.invalid">
          <div *ngIf="confirmPassword.errors?.required "> password is required...</div>
          <div *ngIf="confirmPassword.value != newPassword.value "> password's must match</div>
        </div>
      </mat-form-field>
      <button mat-raised-button color="primary" type="submit" [disabled] = "confirmPassword == newPassword">Update</button>
    </form>
  </div>

</div>


